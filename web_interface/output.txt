client.print("<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">");
client.print("<!-- CSS and JS will be injected here by the combine script -->\n<link rel=\"stylesheet\" href=\"styles.css\">");
client.print("<script src=\"script.js\"></script>\n<style>\nbody {\ndisplay: flex;\nflex-direction: row;\njustify-content: center;");
client.print("align-items: center;\nheight: 100vh;\nmargin: 0;\nfont-size: 30px;\ntext-align: center;\ngap: 100px;\nbackground-color: #0099a109;");
client.print("}\nlabel {\nfont-size: 30px;\ncolor: #000;\nfont-family: sans-serif;\ntext-align: right;\npadding-right: 0px;");
client.print("padding-left: 0px;\nline-height: 45px; /* This helps align labels vertically with inputs */\n}\nbutton {");
client.print("width: 100%;\npadding: 20px;\nmargin: 10px;\nbackground: #0099a1;\ncolor: rgb(255, 255, 255);\nborder: none;");
client.print("border-radius: 10px;\nfont-size: 50px;\nfont-family: sans-serif;\ncursor: pointer;\ntransition: all 0.3s ease;");
client.print("}\nbutton:hover {\nbackground: #0099a17f;\ntransform: scale(1.02);\n}\ninput {\nwidth: 120px;\nmargin: 5px;");
client.print("font-size: 30px;\nfont-family: sans-serif;\nbackground-color: #0099a121;\ncolor: #000;\n}\nhtml, body {");
client.print("margin: 0;\npadding: 0;\nwidth: 100%;\nheight: 100%;\noverflow: hidden;\n}\n.container {\nwidth: 100%;");
client.print("height: 100%;\ndisplay: flex;\nflex-direction: column;\n}\n/* Custom Hexagon Button */\n.button.custom-hexagon {");
client.print("width: 300px;\naspect-ratio: 1;\nclip-path: polygon( 50%     50%,\n87.5%   71.65%,\n75%     93.3%,\n25%     93.3%,");
client.print("12.5%   71.65%);\ncolor: white;\nposition: absolute;\ntransform-origin: 50% 49%;\ndisplay: flex;\nalign-items: center;");
client.print("justify-content: center;\nborder-radius: 15px;\n}\n/* Update the active state to combine with rotations */");
client.print(".button.custom-hexagon.active {\ntransform: scale(0.95) rotate(60deg) !important;  /* For hexagon 1 */");
client.print("}\n/* Container for the rotating hexagons */\n.walking-buttons {\nposition: relative;\nwidth: 300px;\nheight: 300px;");
client.print("display: flex;\njustify-content: center;  /* Center horizontally */\nalign-items: center;      /* Center vertically */");
client.print("}\n.walking-container {\ndisplay: flex;\nflex-direction: column;\nalign-items: center;\njustify-content: center;");
client.print("}\n/* Position the hexagons absolutely within container */\n.button.custom-hexagon::after {\ncontent: '\\2193';  /* Unicode Down Arrow U+2193 */");
client.print("color: white;\nfont-size: 80px;\nposition: absolute;\ntop: 170px;\ntransform: rotate(0deg);\n}\n/* Update the class names in the rotation styles */");
client.print(".walk-left {\ntransform: rotate(60deg);\n}\n.walk-forward {\ntransform: rotate(180deg);\n}\n.walk-right {");
client.print("transform: rotate(300deg);\n}\n/* Update hover states with new class names */\n.walk-left:hover {\ntransform: scale(1.03) rotate(60deg);");
client.print("}\n.walk-forward:hover {\ntransform: scale(1.03) rotate(179.99deg);\n}\n.walk-right:hover {\ntransform: scale(1.03) rotate(300deg);");
client.print("}\n/* Update active states with new class names */\n.walk-left.active {\ntransform: rotate(60deg);\n}");
client.print(".walk-forward.active {\ntransform: rotate(180deg);\n}\n.walk-right.active {\ntransform: rotate(300deg);");
client.print("}\n/* Remove old class references */\n/* Delete or comment out:\n.custom-hexagon-1 { ... }\n.custom-hexagon-2 { ... }");
client.print(".custom-hexagon-3 { ... }\n.custom-hexagon-1:hover { ... }\n.custom-hexagon-2:hover { ... }\n.custom-hexagon-3:hover { ... }");
client.print(".custom-hexagon-1.active { ... }\n.custom-hexagon-2.active { ... }\n.custom-hexagon-3.active { ... }\n*/");
client.print(".pose-inputs {\ndisplay: flex;\ngap: 40px;\njustify-content: center;\nmargin-top: 20px;\n}\n.pose-grid {");
client.print("display: grid;\ngrid-template-columns: auto auto auto auto;\ngap: 20px;\njustify-content: center;\nmargin-top: 20px;");
client.print("column-gap: 20px;\n}\n.pose-grid label {\ntext-align: right;\npadding-right: 0px;\npadding-left: 20px;");
client.print("}\n.offsets-grid {\ndisplay: grid;\ngrid-template-columns: auto 100px;\ngap: 20px;\njustify-content: center;");
client.print("margin-top: 20px;\n}\n/* Add these new styles at the end of the file */\n.toggle-button {\nwidth: 90px;");
client.print("height: 90px;\nborder-radius: 50%;\nbackground: #0099a1;\ncolor: white;\nfont-size: 45px;\npadding: 0;");
client.print("margin: 10px;\ndisplay: flex;\nalign-items: center;\njustify-content: center;\nposition: absolute;\nright: 20px;");
client.print("top: 20px;\ntext-shadow: 0 0 20px rgb(255, 255, 255);  /* Added for better visibility */\n}\n.hidden {");
client.print("display: none;\n}\n.accel-grid {\ndisplay: grid;\ngrid-template-columns: auto 100px;\ngap: 20px;\njustify-content: center;");
client.print("margin-top: 20px;\n}\n.pose-grid-container {\nwidth: 100%;\npadding: 20px;\nbox-sizing: border-box;\n}");
client.print(".pose-grid-table {\ndisplay: flex;\nflex-direction: column;\ngap: 10px;\nwidth: 100%;\nmax-width: 1200px;");
client.print("margin: 0 auto;\n}\n.grid-row {\ndisplay: grid;\ngrid-template-columns: repeat(7, 1fr);\ngap: 10px;\nalign-items: center;");
client.print("}\n.grid-row.header {\nfont-weight: bold;\ntext-align: center;\n}\n.grid-row input {\nwidth: 100%;\nbox-sizing: border-box;");
client.print("}\n.grid-row button {\nwidth: 100%;\npadding: 10px;\nfont-size: 24px;\n}\n.pose-input {\nwidth: 100%;");
client.print("padding: 5px;\nfont-size: 20px;\n}\n</style>\n<script>");
client.print("function sendRequest(command, inputs) { const params=inputs.map(input => typeof input==='string' ? input : input.value).join(','); fetch(`\${command}?params=\${params}`); } function toggleOffsets() { const settingsContainers=document.querySelectorAll('.offsets-container, .accel-container'); const controlContainers=document.querySelectorAll('.walking-container, .pose-container'); const poseGridContainer=document.querySelector('.pose-grid-container'); const toggleButton=document.querySelector('.toggle-button'); const currentIcon=toggleButton.textContent; if (currentIcon==='\\u{2699}') { settingsContainers.forEach(container => container.classList.remove('hidden')); controlContainers.forEach(container => container.classList.add('hidden')); poseGridContainer.classList.add('hidden'); toggleButton.textContent='\\u{1F3AE}'; } else if (currentIcon==='\\u{1F3AE}') { settingsContainers.forEach(container => container.classList.add('hidden')); controlContainers.forEach(container => container.classList.add('hidden')); poseGridContainer.classList.remove('hidden'); toggleButton.textContent='\\u{1F4C4}'; } else { settingsContainers.forEach(container => container.classList.add('hidden')); controlContainers.forEach(container => container.classList.remove('hidden')); poseGridContainer.classList.add('hidden'); toggleButton.textContent='\\u{2699}'; } }");
client.print("</script>\n</head>\n<body>\n<div class=\"walking-container\">\n<div class=\"walking-buttons\">");
client.print("<button class=\"button custom-hexagon walk-left\" onclick=\"sendRequest('/walk', [document.getElementById('speed_multiplier'), 'left'])\"></button>");
client.print("<button class=\"button custom-hexagon walk-forward\" onclick=\"sendRequest('/walk', [document.getElementById('speed_multiplier'), 'forward'])\"></button>");
client.print("<button class=\"button custom-hexagon walk-right\" onclick=\"sendRequest('/walk', [document.getElementById('speed_multiplier'), 'right'])\"></button>");
client.print("</div>\n<div>\n<label>Speed Multiplier</label>\n</div>\n<div>\n<input type='number' id='speed_multiplier' placeholder='speed multiplier' value='1.0'>");
client.print("</div>\n</div>\n<div class=\"pose-container\">\n<div>\n<button onclick=\"sendRequest('/pose1', [\ndocument.getElementById('pose_x'),");
client.print("document.getElementById('pose_y'),\ndocument.getElementById('pose_z'),\ndocument.getElementById('pose_roll'),");
client.print("document.getElementById('pose_pitch'),\ndocument.getElementById('pose_yaw')\n])\">Set Pose</button>\n</div>");
client.print("<div class=\"pose-grid\">\n<label>X</label>\n<input type='number' id='pose_x' placeholder='X' value='0.0'>");
client.print("<label>Roll</label>\n<input type='number' id='pose_roll' placeholder='Roll' value='0.0'>\n<label>Y</label>");
client.print("<input type='number' id='pose_y' placeholder='Y' value='0.0'>\n<label>Pitch</label>\n<input type='number' id='pose_pitch' placeholder='Pitch' value='0.0'>");
client.print("<label>Z</label>\n<input type='number' id='pose_z' placeholder='Z' value='0.0'>\n<label>Yaw</label>\n<input type='number' id='pose_yaw' placeholder='Yaw' value='0.0'>");
client.print("</div>\n</div>\n<button class=\"toggle-button\" onclick=\"toggleOffsets()\">&#x2699;</button>\n<div class=\"offsets-container hidden\">");
client.print("<div>\n<button onclick=\"sendRequest('/setOffsets', [\ndocument.getElementById('offset_1').value,\ndocument.getElementById('offset_2').value,");
client.print("document.getElementById('offset_3').value,\ndocument.getElementById('offset_4').value,\ndocument.getElementById('offset_5').value,");
client.print("document.getElementById('offset_6').value\n])\">Set Offsets</button>\n</div>\n<div class=\"offsets-grid\">");
client.print("<label>Servo 1</label>\n<input type='number' id='offset_1' placeholder='offset1' value='0.0'>\n<label>Servo 2</label>");
client.print("<input type='number' id='offset_2' placeholder='offset2' value='0.0'>\n<label>Servo 3</label>\n<input type='number' id='offset_3' placeholder='offset3' value='0.0'>");
client.print("<label>Servo 4</label>\n<input type='number' id='offset_4' placeholder='offset4' value='0.0'>\n<label>Servo 5</label>");
client.print("<input type='number' id='offset_5' placeholder='offset5' value='0.0'>\n<label>Servo 6</label>\n<input type='number' id='offset_6' placeholder='offset6' value='0.0'>");
client.print("</div>\n</div>\n<div class=\"accel-container hidden\">\n<div>\n<button onclick=\"sendRequest('/setMaxAccel', [");
client.print("document.getElementById('max_trans_accel'),\ndocument.getElementById('max_angular_accel')\n])\">Set Accelerations</button>");
client.print("</div>\n<div class=\"accel-grid\">\n<label>Translational</label>\n<input type='number' id='max_trans_accel' placeholder='translational' value='50.0'>");
client.print("<label>Rotational</label>\n<input type='number' id='max_angular_accel' placeholder='rotational' value='50.0'>");
client.print("</div>\n</div>\n<div class=\"pose-grid-container hidden\">\n<div class=\"pose-grid-table\">\n<div class=\"grid-row header\">");
client.print("<div>X</div>\n<div>Y</div>\n<div>Z</div>\n<div>Roll</div>\n<div>Pitch</div>\n<div>Yaw</div>\n<div></div>");
client.print("</div>\n<div class=\"grid-row\">\n<input type=\"number\" class=\"pose-input\" id=\"pose1_x\" value=\"0.0\">");
client.print("<input type=\"number\" class=\"pose-input\" id=\"pose1_y\" value=\"0.0\">\n<input type=\"number\" class=\"pose-input\" id=\"pose1_z\" value=\"0.0\">");
client.print("<input type=\"number\" class=\"pose-input\" id=\"pose1_roll\" value=\"0.0\">\n<input type=\"number\" class=\"pose-input\" id=\"pose1_pitch\" value=\"0.0\">");
client.print("<input type=\"number\" class=\"pose-input\" id=\"pose1_yaw\" value=\"0.0\">\n<button onclick=\"sendRequest('/pose1', [");
client.print("document.getElementById('pose1_x'),\ndocument.getElementById('pose1_y'),\ndocument.getElementById('pose1_z'),");
client.print("document.getElementById('pose1_roll'),\ndocument.getElementById('pose1_pitch'),\ndocument.getElementById('pose1_yaw')");
client.print("])\">Set</button>\n</div>\n<div class=\"grid-row\">\n<input type=\"number\" class=\"pose-input\" id=\"pose2_x\" value=\"0.0\">");
client.print("<input type=\"number\" class=\"pose-input\" id=\"pose2_y\" value=\"0.0\">\n<input type=\"number\" class=\"pose-input\" id=\"pose2_z\" value=\"0.0\">");
client.print("<input type=\"number\" class=\"pose-input\" id=\"pose2_roll\" value=\"0.0\">\n<input type=\"number\" class=\"pose-input\" id=\"pose2_pitch\" value=\"0.0\">");
client.print("<input type=\"number\" class=\"pose-input\" id=\"pose2_yaw\" value=\"0.0\">\n<button onclick=\"sendRequest('/pose1', [");
client.print("document.getElementById('pose2_x'),\ndocument.getElementById('pose2_y'),\ndocument.getElementById('pose2_z'),");
client.print("document.getElementById('pose2_roll'),\ndocument.getElementById('pose2_pitch'),\ndocument.getElementById('pose2_yaw')");
client.print("])\">Set</button>\n</div>\n<div class=\"grid-row\">\n<input type=\"number\" class=\"pose-input\" id=\"pose3_x\" value=\"0.0\">");
client.print("<input type=\"number\" class=\"pose-input\" id=\"pose3_y\" value=\"0.0\">\n<input type=\"number\" class=\"pose-input\" id=\"pose3_z\" value=\"0.0\">");
client.print("<input type=\"number\" class=\"pose-input\" id=\"pose3_roll\" value=\"0.0\">\n<input type=\"number\" class=\"pose-input\" id=\"pose3_pitch\" value=\"0.0\">");
client.print("<input type=\"number\" class=\"pose-input\" id=\"pose3_yaw\" value=\"0.0\">\n<button onclick=\"sendRequest('/pose1', [");
client.print("document.getElementById('pose3_x'),\ndocument.getElementById('pose3_y'),\ndocument.getElementById('pose3_z'),");
client.print("document.getElementById('pose3_roll'),\ndocument.getElementById('pose3_pitch'),\ndocument.getElementById('pose3_yaw')");
client.print("])\">Set</button>\n</div>\n<div class=\"grid-row\">\n<input type=\"number\" class=\"pose-input\" id=\"pose4_x\" value=\"0.0\">");
client.print("<input type=\"number\" class=\"pose-input\" id=\"pose4_y\" value=\"0.0\">\n<input type=\"number\" class=\"pose-input\" id=\"pose4_z\" value=\"0.0\">");
client.print("<input type=\"number\" class=\"pose-input\" id=\"pose4_roll\" value=\"0.0\">\n<input type=\"number\" class=\"pose-input\" id=\"pose4_pitch\" value=\"0.0\">");
client.print("<input type=\"number\" class=\"pose-input\" id=\"pose4_yaw\" value=\"0.0\">\n<button onclick=\"sendRequest('/pose1', [");
client.print("document.getElementById('pose4_x'),\ndocument.getElementById('pose4_y'),\ndocument.getElementById('pose4_z'),");
client.print("document.getElementById('pose4_roll'),\ndocument.getElementById('pose4_pitch'),\ndocument.getElementById('pose4_yaw')");
client.print("])\">Set</button>\n</div>\n</div>\n</div>\n</body>\n</html>");